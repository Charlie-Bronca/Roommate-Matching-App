extends header
block head
    meta(charset='UTF-8')
    |    
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    |    
    title Chats
    |    
    style.
      body {
      max-width: 100%;
      overflow-x: hidden;
      margin: 0;
      background-color: #FFFFFF;
      cursor: default;
      text-decoration: none;
      color: black;
      }
      .Chat {
      display: flex;
      height: 800px;
      border-bottom: solid 0.5px;
      }
      .Recent-Chats {
      background-color: #FFFFFF;
      width: 100%;
      }
      .User {
      display: flex;
      background-color: #FFFFFF;
      height: 100px;
      border-top: solid 1px;
      border-bottom: solid 1px;
      cursor: default;
      text-decoration: none;
      color: black;
      }
      
      .User-Profile-Pic {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 10%;
      padding-top: 5px;
      padding-bottom: 5px;
      }
      @media only screen and (max-width: 800px) {
      .User-Profile-Pic {
      display: none;
      }
      }
      .profile-image {
      width: 50px;
      height: 50px;
      max-width: 100%;
      border-radius: 100%;
      object-fit: cover;
      overflow: hidden;
      }
      .Username {
      display: block;
      text-align: center;
      width: 75%;
      padding-left: 20px;
      }
      @media only screen and (max-width: 500px) {
      .Username {
      width: 100%;
      padding-left: 5px;
      }
      }
      .name {
      display: flex;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 15px;
      margin-top: 25px;
      margin-bottom: 0;
      width: 100%;
      }
      .text {
      display: flex;
      text-align: start;
      font-family: sans-serif;
      font-size: 12px;
      color: grey;
      margin-top: 10px;
      }
      .Current-Chat {
      display: flex;
      flex-direction: column;
      justify-content: stretch;
      width: 75%;
      border-left: solid 1px;
      }
      .Current-Chat-Header,
      .Messages,
      .Sending {
      width: 100%;
      }
      .Current-Chat-Header {
      display: flex;
      justify-content: space-between;
      height: 100px;
      border-bottom: solid 0.5px;
      }
      .Current-Chat-Info {
      display: flex;
      width: 225px;
      }
      .User-Profile-Pic-Header {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      }
      .Username-Header {
      display: block;
      width: 100%;
      padding-left: 20px;
      }
      .name-header {
      width: 100px;
      margin-bottom: 0;
      padding-top: 7px;
      font-family: sans-serif;
      font-weight: 600;
      font-size: 15px;
      }
      .text-header {
      margin-top: 3px;
      font-family: sans-serif;
      font-size: 12px;
      color: gray;
      }
      .Chat-Buttons {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 150px;
      padding-left: 40px;
      padding-right: 40px;
      }
      .Messages {
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      height: 100%;
      }
      .message-1,
      .message-2,
      .message-3 {
      display: flex;
      font-family: sans-serif;
      font-size: 14px;
      }
      .message-1,
      .message-3 {
      padding-left: 15px;
      }
      .message-2 {
      display: flex;
      justify-content: flex-end;
      padding-right: 15px;
      }
      .message-1-image,
      .message-3-image {
      padding-right: 15px;
      }
      .message-2-image {
      padding-left: 15px;
      }
      .message-2p {
      background-color: #859EBC;
      }
      .message-1p,
      .message-2p,
      .message-3p {
      padding-left: 20px;
      padding-right: 15px;
      border-radius: 50px;
      width: 250px;
      border: solid 1px;
      }
      .message-1-image,
      .message-1p,
      .message-2-image,
      .message-2p,
      .message-3-image,
      .message-3p {
      display: flex;
      align-items: center;
      }
      .Sending {
      display: flex;
      justify-content: space-between;
      height: 100px;
      border: solid 0.5px;
      border-left: none;
      }
      .Writing-Space {
      display: flex;
      align-items: center;
      width: 90%;
      font-family: sans-serif;
      color: grey;
      padding-left: 50px;
      }
      .Send-Buttons {
      display: flex;
      justify-content: center;
      justify-content: space-evenly;
      align-items: center;
      width: 200px;
      padding-left: 10px;
      padding-right: 20px;
      }
      .Send-Button {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 50px;
      height: 50px;
      background-color: rgb(from #FE6941 r g b / 75%);
      border-radius: 100px;
      }
    |    
    //link(rel='stylesheet', href='chat.css')
    |    
    link(href='https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap', rel='stylesheet')
block content
    .Chat
      .Recent-Chats
        for other_user in other_users
          a.User(href="/chat/"+other_user.profile.user_id)
            .User-Profile-Pic
              - const pic_num = String(other_user.profile.user_id).padStart(5, '0');
              img.profile-image(src="/images/"+pic_num+".png", alt='User1 Image')
            |                
            .Username
              p.name #{other_user.profile.first_name} #{other_user.profile.last_name}
              |                    
              //p.text I&apos;m doing well, just taking ...
              -let last_text = other_user.chats[other_user.chats.length - 1].message
              -console.log(other_user.chats)
              //- for(let i = 0; i < the_chats.length; i++){if((the_chats[i].sender_id == other_user.user_id) || (the_chats[i].recipient_id == other_user.user_id) || (the_chats[i].sender_id == user.user_id) || (the_chats[i].recipient_id == user.user_id) ){console.log(the_chats[i].recipient_id,the_chats[i].sender_id,user.user_id,other_user.user_id)}}
              p.text #{last_text}      
        |            
        //.User2
          .User-Profile-Pic
            img.profile-image(src='chat-images/23436.png', alt='User2 Image')
          |                
          .Username
            p.name Celine Moreau
            |                    
            p.text You too, Celine! Talk ...
        |            
        //.User3
          .User-Profile-Pic
            img.profile-image(src='chat-images/71214.png', alt='User3 Image')
          |                
          .Username
            p.name William James
            |                    
            p.text I&apos;m pretty easygoing. ...
        |            
        //.User4
          .User-Profile-Pic
            img.profile-image(src='chat-images/27476.png', alt='User4 Image')
          |                
          .Username
            p.name Matthew Allen
            |                    
            p.text Sounds like a plan, Sebas ...
        |            
        //.User5
          .User-Profile-Pic
            img.profile-image(src='chat-images/43219.png', alt='User5 Image')
          |                
          .Username
            p.name Wei Wong
            |                    
            p.text Yeah, there are some reall ...
